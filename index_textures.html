<!DOCTYPE html>
<html style="height: 100%;">
    <body>
        <canvas id="scene" style="height: 100%;"></canvas>
        <script src="js/bundle.js"></script>
        <script type="module">
            const nodedefs = await fetch("export/nodedefs.json").then(r => r.json());
            const manifest = await fetch("export/mapblocks/manifest.json").then(r => r.json());

            const wv = new ltview.WebView({
                target: document.getElementById("scene"),
                map: {
                    min: manifest.min,
                    max: manifest.max,
                    mapblocks_url: "/export/mapblocks/({x},{y},{z}).json",
                    mapblock_format: "json-base64-gz",
                    nodedefs: nodedefs,
                    media_url: "/export/media/{filename}"
                }
            });
        </script>
    </body>
</html>